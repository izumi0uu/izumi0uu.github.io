---
import Base from "@/layouts/Base.astro";
import ThemeShowcase from "@/components/demo/ThemeShowcase.astro";
import { getPageMetadata } from "@/utils/content/metadata";

// å¯¼å‡º getStaticPaths å‡½æ•°ç”¨äºç”Ÿæˆé™æ€è·¯ç”±
export async function getStaticPaths() {
  // æ”¯æŒçš„è¯­è¨€åˆ—è¡¨
  const supportedLocales = ["en", "zh"];
  
  return supportedLocales.map((lang) => ({
    params: { lang },
  }));
}

// ä»è·¯ç”±å‚æ•°ä¸­è·å–å½“å‰è¯­è¨€
const { lang } = Astro.params;

// è·å–é¡µé¢metadataï¼ˆä½¿ç”¨ç©ºå­—ç¬¦ä¸²ä½œä¸ºé¦–é¡µçš„keyï¼‰
const metadata = getPageMetadata("");
---

<Base {metadata}>
  <main class="container mx-auto px-4 py-8">
    <section class="mb-12">
      <h1 class="text-4xl font-bold text-on-surface mb-4">
        {lang === "zh" ? "ğŸ¨ Tailwind CSS v4 ä¸»é¢˜æ¼”ç¤º" : "ğŸ¨ Tailwind CSS v4 Theme Showcase"}
      </h1>
      <p class="text-lg text-on-surface-variant mb-8">
        {lang === "zh" 
          ? "æ¬¢è¿ä½“éªŒå®Œå…¨é‡æ„çš„ Tailwind v4 ä¸»é¢˜ç³»ç»Ÿã€‚è¿™ä¸ªé¡µé¢å±•ç¤ºäº†æ–°çš„é¢œè‰²ç³»ç»Ÿã€è‡ªå®šä¹‰å·¥å…·ç±»å’Œä¸»é¢˜åˆ‡æ¢åŠŸèƒ½ã€‚"
          : "Welcome to the completely refactored Tailwind v4 theme system. This page showcases the new color system, custom utility classes, and theme switching functionality."
        }
      </p>
      
      <!-- æ–°çš„v4ä¸»é¢˜æ¼”ç¤ºç»„ä»¶ -->
      <ThemeShowcase />
    </section>

    <section class="mt-16 p-6 surface-container">
      <h2 class="text-2xl font-semibold text-on-surface mb-4">
        {lang === "zh" ? "ğŸš€ è¿ç§»å®Œæˆ" : "ğŸš€ Migration Complete"}
      </h2>
      <div class="space-y-3 text-on-surface-variant">
        {lang === "zh" ? (
          <>
            <p>âœ… <strong>theme() å‡½æ•°é”™è¯¯</strong>: å·²æ›¿æ¢ä¸ºåŸç”ŸCSSå˜é‡</p>
            <p>âœ… <strong>ESBuild è¯­æ³•é”™è¯¯</strong>: å·²ä¿®å¤æ³¨é‡Šæ ¼å¼é—®é¢˜</p>
            <p>âœ… <strong>TypeScript ç±»å‹é”™è¯¯</strong>: å·²æ·»åŠ æ­£ç¡®çš„ç±»å‹æ³¨è§£</p>
            <p>âœ… <strong>OKLCH é¢œè‰²ç©ºé—´</strong>: ç°ä»£é¢œè‰²ç³»ç»Ÿå·²å¯ç”¨</p>
            <p>âœ… <strong>è‡ªå®šä¹‰å·¥å…·ç±»</strong>: åˆ©ç”¨v4çš„@utilityæŒ‡ä»¤</p>
            <p>âœ… <strong>ä¸»é¢˜åˆ‡æ¢</strong>: æ”¯æŒ4ç§ä¸»é¢˜æ¨¡å¼</p>
          </>
        ) : (
          <>
            <p>âœ… <strong>theme() function errors</strong>: Replaced with native CSS variables</p>
            <p>âœ… <strong>ESBuild syntax errors</strong>: Fixed comment formatting issues</p>
            <p>âœ… <strong>TypeScript type errors</strong>: Added proper type annotations</p>
            <p>âœ… <strong>OKLCH color space</strong>: Modern color system enabled</p>
            <p>âœ… <strong>Custom utility classes</strong>: Leveraging v4's @utility directive</p>
            <p>âœ… <strong>Theme switching</strong>: Supports 4 theme modes</p>
          </>
        )}
      </div>
    </section>
  </main>
</Base>
