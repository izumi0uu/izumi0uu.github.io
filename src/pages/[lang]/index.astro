---
import FullWidth from "@/layouts/FullWidth.astro";
import { getPageMetadata } from "@/utils/content/metadata";
import { SUPPORTED_LOCALES } from "@/config/i18n";
import { SplitText } from "@/components/react/ui/SpiltText";
import { FallingText } from "@/components/react/ui/FallingText";
import { Highlight } from "@/components/react/ui/HeroHighlightText";
import { cn } from "@/utils/ui/styles";
import * as m from "@/paraglide/messages";

export async function getStaticPaths() {
  return SUPPORTED_LOCALES.map((lang) => ({
    params: { lang },
  }));
}

const { lang } = Astro.params;

// è·å–é¡µé¢metadataï¼ˆä½¿ç”¨ç©ºå­—ç¬¦ä¸²ä½œä¸ºé¦–é¡µçš„keyï¼‰
const metadata = getPageMetadata("");

const fallingText = m["pages.home.falling_text"]();
---

<FullWidth {metadata}>
  <section
    class={cn(
      "mb-12 flex flex-col justify-center items-center h-[30vh] w-full",
      "bg-surface-container relative flex h-[40rem] w-full items-center justify-center transition-colors duration-300"
    )}
  >
    <SplitText
      text={"Hello, I'm Izumi0uu!"}
      className="text-8xl font-semibold text-center text-headings"
      delay={100}
      duration={0.6}
      ease="power3.out"
      splitType="chars"
      threshold={0.1}
      client:only="react"
    />
    <div class="relative z-20">
      <h1
        class="text-2xl px-4 md:text-4xl lg:text-5xl font-bold text-on-surface max-w-4xl leading-relaxed lg:leading-snug text-center mx-auto"
      >
        With insomnia, nothing&apos;s real. Everything is far away. Everything is a{" "}
        <Highlight variant="primary" className="mx-1"> copy, of a copy, of a copy. </Highlight>
      </h1>
    </div>
  </section>

  <section class="mb-12 flex justify-center items-center h-[30vh] w-full">
    <FallingText
      text={m["pages.home.falling_text"]()}
      highlightWords={["ideas", "share"]}
      highlightClass="highlighted"
      trigger="hover"
      wireframes={false}
      gravity={0.3}
      fontSize="2rem"
      mouseConstraintStiffness={0.9}
      client:load
    />
  </section>

  <!-- è¯­ä¹‰åŒ–ä¸»é¢˜æ¼”ç¤ºåŒºåŸŸ -->
  <section class="mb-12 space-y-8">
    <div class="text-center">
      <h2 class="text-3xl font-bold text-headings mb-4">ğŸ¨ è¯­ä¹‰åŒ–ä¸»é¢˜æ¼”ç¤º</h2>
      <p class="text-content-secondary text-lg max-w-2xl mx-auto">
        å±•ç¤ºä¸åŒè¯­ä¹‰åŒ–å˜ä½“çš„å¼ºè°ƒæ•ˆæœï¼Œå®Œç¾é€‚é…ä»»ä½•ä¸»é¢˜åˆ‡æ¢
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl mx-auto">
      <!-- Primary å˜ä½“ -->
      <div
        class="bg-surface p-6 rounded-lg border-2 border-outline/20 hover:shadow-md transition-shadow"
      >
        <h3 class="text-xl font-semibold text-on-surface mb-3">Primary å¼ºè°ƒ</h3>
        <p class="text-content leading-relaxed">
          è¿™æ˜¯ä½¿ç”¨ <Highlight variant="primary">ä¸»è¦å“ç‰Œè‰²</Highlight> çš„å¼ºè°ƒæ•ˆæœï¼Œ é€‚åˆçªå‡ºæœ€é‡è¦çš„å†…å®¹å’Œæ ¸å¿ƒä¿¡æ¯ã€‚
        </p>
      </div>

      <!-- Secondary å˜ä½“ -->
      <div
        class="bg-surface p-6 rounded-lg border border-outline/20 hover:shadow-md transition-shadow"
      >
        <h3 class="text-xl font-semibold text-on-surface mb-3">Secondary å¼ºè°ƒ</h3>
        <p class="text-content leading-relaxed">
          è¿™æ˜¯ä½¿ç”¨ <Highlight variant="secondary">æ¬¡è¦é¢œè‰²</Highlight> çš„å¼ºè°ƒæ•ˆæœï¼Œ é€‚åˆè¾…åŠ©ä¿¡æ¯å’Œè¡¥å……è¯´æ˜ã€‚
        </p>
      </div>

      <!-- Tertiary å˜ä½“ -->
      <div
        class="bg-surface p-6 rounded-lg border border-outline/20 hover:shadow-md transition-shadow"
      >
        <h3 class="text-xl font-semibold text-on-surface mb-3">Tertiary å¼ºè°ƒ</h3>
        <p class="text-content leading-relaxed">
          è¿™æ˜¯ä½¿ç”¨ <Highlight variant="tertiary">ç¬¬ä¸‰çº§é¢œè‰²</Highlight> çš„å¼ºè°ƒæ•ˆæœï¼Œ é€‚åˆåˆ›å»ºä¸°å¯Œçš„è§†è§‰å±‚æ¬¡ã€‚
        </p>
      </div>
    </div>
  </section>
</FullWidth>
