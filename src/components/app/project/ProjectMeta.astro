---
import { Icon } from 'astro-icon/components';

import { Link } from '@/components/react/ui/Link.tsx';
import { ROUTES } from '@/constants/routes';
import { formatDate, formatDateIso } from '@/utils/data/datetime';
import { cn } from '@/utils/ui/styles';
import type { HTMLAttributes } from 'astro/types';



export interface Props extends HTMLAttributes<'p'> {
  publishDate: Date;
  category?: string;
  readingTime?: number;
  updatedDate?: Date;
}

const { category, publishDate, updatedDate, readingTime, class: className } = Astro.props;

const shouldDisplay = [category, publishDate, updatedDate, readingTime].some(Boolean);
---

{
  shouldDisplay && (
    <p aria-label="Post meta" class={cn('b-p text-captions flex flex-row flex-wrap items-center gap-2', className)}>
        {publishDate && (      
          <Icon name="mdi:access-time" />
          <time itemprop="datePublished" datetime={formatDateIso(publishDate)}>
            {formatDate(publishDate)}
          </time>        
        )}
        {/* {tags && (
          <span>Â·</span>
          <Icon name="mdi:tag-outline" />
          <Link href={`${ROUTES.TAGS}${tags}`}>{tags}</Link>
        )} */}
    </p>
  )
}