---
// Tailwind v4 ä¸»é¢˜ç³»ç»Ÿæ¼”ç¤ºç»„ä»¶
// å±•ç¤ºæ–°çš„é¢œè‰²ç³»ç»Ÿã€å·¥å…·ç±»å’Œä¸»é¢˜åˆ‡æ¢åŠŸèƒ½
---

<div class="theme-showcase">
  <!-- ä¸»é¢˜åˆ‡æ¢å™¨ -->
  <div class="mb-8 p-6 surface-container">
    <h2 class="text-2xl font-bold text-on-surface mb-4">ğŸ¨ Tailwind v4 ä¸»é¢˜æ¼”ç¤º</h2>
    <div class="flex flex-wrap gap-4 mb-4">
      <button 
        id="theme-default" 
        class="btn-secondary"
        data-theme="default"
      >
        é»˜è®¤ä¸»é¢˜
      </button>
      <button 
        id="theme-dark" 
        class="btn-secondary"
        data-theme="dark"
      >
        æš—è‰²æ¨¡å¼
      </button>
      <button 
        id="theme-wine" 
        class="btn-secondary"
        data-theme="wine"
      >
        é…’çº¢ä¸»é¢˜
      </button>
      <button 
        id="theme-wine-dark" 
        class="btn-secondary"
        data-theme="wine-dark"
      >
        é…’çº¢æš—è‰²
      </button>
    </div>
    <p class="text-on-surface-variant text-sm">
      å½“å‰ä¸»é¢˜: <span id="current-theme" class="text-primary font-medium">default</span>
    </p>
  </div>

  <!-- é¢œè‰²ç³»ç»Ÿå±•ç¤º -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
    <!-- ä¸»è‰²ç³» -->
    <div class="card">
      <h3 class="text-lg font-semibold text-on-surface mb-4">ä¸»è‰²ç³»</h3>
      <div class="space-y-3">
        <div class="flex items-center gap-3">
          <div class="w-8 h-8 rounded bg-primary border border-outline"></div>
          <div>
            <div class="text-sm font-medium text-on-surface">Primary</div>
            <div class="text-xs text-on-surface-variant">var(--color-primary)</div>
          </div>
        </div>
        <div class="flex items-center gap-3">
          <div class="w-8 h-8 rounded bg-primary-container border border-outline"></div>
          <div>
            <div class="text-sm font-medium text-on-surface">Primary Container</div>
            <div class="text-xs text-on-surface-variant">var(--color-primary-container)</div>
          </div>
        </div>
        <div class="flex items-center gap-3">
          <div class="w-8 h-8 rounded bg-secondary border border-outline"></div>
          <div>
            <div class="text-sm font-medium text-on-surface">Secondary</div>
            <div class="text-xs text-on-surface-variant">var(--color-secondary)</div>
          </div>
        </div>
      </div>
    </div>

    <!-- è¡¨é¢ç³»ç»Ÿ -->
    <div class="card">
      <h3 class="text-lg font-semibold text-on-surface mb-4">è¡¨é¢ç³»ç»Ÿ</h3>
      <div class="space-y-3">
        <div class="flex items-center gap-3">
          <div class="w-8 h-8 rounded bg-surface border border-outline"></div>
          <div>
            <div class="text-sm font-medium text-on-surface">Surface</div>
            <div class="text-xs text-on-surface-variant">var(--color-surface)</div>
          </div>
        </div>
        <div class="flex items-center gap-3">
          <div class="w-8 h-8 rounded bg-surface-variant border border-outline"></div>
          <div>
            <div class="text-sm font-medium text-on-surface">Surface Variant</div>
            <div class="text-xs text-on-surface-variant">var(--color-surface-variant)</div>
          </div>
        </div>
        <div class="flex items-center gap-3">
          <div class="w-8 h-8 rounded" style="background-color: var(--color-background);">
          </div>
          <div>
            <div class="text-sm font-medium text-on-surface">Background</div>
            <div class="text-xs text-on-surface-variant">var(--color-background)</div>
          </div>
        </div>
      </div>
    </div>

    <!-- åŠŸèƒ½è‰²ç³» -->
    <div class="card">
      <h3 class="text-lg font-semibold text-on-surface mb-4">åŠŸèƒ½è‰²ç³»</h3>
      <div class="space-y-3">
        <div class="flex items-center gap-3">
          <div class="w-8 h-8 rounded border border-outline" style="background-color: var(--color-error);"></div>
          <div>
            <div class="text-sm font-medium text-on-surface">Error</div>
            <div class="text-xs text-on-surface-variant">var(--color-error)</div>
          </div>
        </div>
        <div class="flex items-center gap-3">
          <div class="w-8 h-8 rounded border border-outline" style="background-color: var(--color-success);"></div>
          <div>
            <div class="text-sm font-medium text-on-surface">Success</div>
            <div class="text-xs text-on-surface-variant">var(--color-success)</div>
          </div>
        </div>
        <div class="flex items-center gap-3">
          <div class="w-8 h-8 rounded border border-outline" style="background-color: var(--color-warning);"></div>
          <div>
            <div class="text-sm font-medium text-on-surface">Warning</div>
            <div class="text-xs text-on-surface-variant">var(--color-warning)</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ç»„ä»¶å±•ç¤º -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
    <!-- æŒ‰é’®ç³»ç»Ÿ -->
    <div class="card">
      <h3 class="text-lg font-semibold text-on-surface mb-4">æŒ‰é’®ç³»ç»Ÿ</h3>
      <div class="space-y-4">
        <div>
          <h4 class="text-sm font-medium text-on-surface-variant mb-2">v4 è‡ªå®šä¹‰å·¥å…·ç±»</h4>
          <div class="flex flex-wrap gap-3">
            <button class="btn-primary">ä¸»è¦æŒ‰é’®</button>
            <button class="btn-secondary">æ¬¡è¦æŒ‰é’®</button>
          </div>
        </div>
        <div>
          <h4 class="text-sm font-medium text-on-surface-variant mb-2">ä¼ ç»Ÿå·¥å…·ç±»</h4>
          <div class="flex flex-wrap gap-3">
            <button class="px-4 py-2 bg-primary text-on-primary rounded-md hover:opacity-90 transition-opacity">
              ä¼ ç»Ÿä¸»è¦
            </button>
            <button class="px-4 py-2 bg-secondary-container text-on-secondary-container rounded-md hover:bg-secondary hover:text-on-secondary transition-colors">
              ä¼ ç»Ÿæ¬¡è¦
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- å¡ç‰‡å’Œè¡¨é¢ -->
    <div class="card">
      <h3 class="text-lg font-semibold text-on-surface mb-4">è¡¨é¢å±‚çº§</h3>
      <div class="space-y-4">
        <div class="surface-1 p-4 rounded-lg">
          <div class="text-sm font-medium">Surface Level 1</div>
          <div class="text-xs text-on-surface-variant mt-1">åŸºç¡€è¡¨é¢å±‚</div>
        </div>
        <div class="surface-2 p-4 rounded-lg">
          <div class="text-sm font-medium">Surface Level 2</div>
          <div class="text-xs text-on-surface-variant mt-1">å˜ä½“è¡¨é¢å±‚</div>
        </div>
        <div class="surface-container p-4">
          <div class="text-sm font-medium">Surface Container</div>
          <div class="text-xs text-on-surface-variant mt-1">å®¹å™¨è¡¨é¢å±‚</div>
        </div>
      </div>
    </div>
  </div>

  <!-- åŠ¨ç”»æ¼”ç¤º -->
  <div class="card">
    <h3 class="text-lg font-semibold text-on-surface mb-4">ç°ä»£åŠ¨ç”»ç³»ç»Ÿ</h3>
    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
      <button 
        id="fade-demo" 
        class="p-4 bg-primary-container text-on-primary-container rounded-lg hover:bg-primary hover:text-on-primary transition-all motion-safe:animate-fade-in"
      >
        æ·¡å…¥åŠ¨ç”»
      </button>
      <button 
        id="slide-demo" 
        class="p-4 bg-secondary-container text-on-secondary-container rounded-lg hover:bg-secondary hover:text-on-secondary transition-all motion-safe:animate-slide-up"
      >
        æ»‘å…¥åŠ¨ç”»
      </button>
      <button 
        id="bounce-demo" 
        class="p-4 surface-container rounded-lg hover:bg-primary-container transition-all motion-safe:animate-bounce-in"
      >
        å¼¹å…¥åŠ¨ç”»
      </button>
    </div>
    <p class="text-xs text-on-surface-variant mt-4">
      ğŸ’¡ åŠ¨ç”»ä¼šæ ¹æ®ç”¨æˆ·çš„æ— éšœç¢åå¥½è‡ªåŠ¨è°ƒæ•´
    </p>
  </div>

  <!-- OKLCH é¢œè‰²å±•ç¤º -->
  <div class="card mt-6">
    <h3 class="text-lg font-semibold text-on-surface mb-4">OKLCH é¢œè‰²ç©ºé—´</h3>
    <div class="text-sm text-on-surface-variant mb-4">
      Tailwind v4 ä½¿ç”¨ç°ä»£ OKLCH é¢œè‰²ç©ºé—´ï¼Œæä¾›æ›´ä¸€è‡´çš„è§†è§‰æ„ŸçŸ¥å’Œæ›´å¥½çš„é¢œè‰²æ··åˆæ•ˆæœã€‚
    </div>
    
    <!-- é…’çº¢è‰²ç³»å±•ç¤º -->
    <div class="space-y-4 theme-wine:block hidden">
      <h4 class="text-sm font-medium text-on-surface">é…’çº¢ä¸»é¢˜è‰²ç³» (OKLCH)</h4>
      <div class="grid grid-cols-4 gap-2">
        <div class="aspect-square rounded" style="background-color: var(--color-wine-primary-light);"></div>
        <div class="aspect-square rounded" style="background-color: var(--color-wine-secondary-light);"></div>
        <div class="aspect-square rounded" style="background-color: var(--color-wine-tertiary-light);"></div>
        <div class="aspect-square rounded" style="background-color: var(--color-wine-surface-container-light);"></div>
      </div>
    </div>

    <!-- æš—è‰²é…’çº¢å±•ç¤º -->
    <div class="space-y-4 theme-wine-dark:block hidden">
      <h4 class="text-sm font-medium text-on-surface">é…’çº¢æš—è‰²ä¸»é¢˜ (OKLCH)</h4>
      <div class="grid grid-cols-4 gap-2">
        <div class="aspect-square rounded" style="background-color: var(--color-wine-primary-dark);"></div>
        <div class="aspect-square rounded" style="background-color: var(--color-wine-secondary-dark);"></div>
        <div class="aspect-square rounded" style="background-color: var(--color-wine-tertiary-dark);"></div>
        <div class="aspect-square rounded" style="background-color: var(--color-wine-surface-container-dark);"></div>
      </div>
    </div>
  </div>

  <!-- è°ƒè¯•ä¿¡æ¯ -->
  <div class="card mt-6" id="debug-info">
    <h3 class="text-lg font-semibold text-on-surface mb-4">è°ƒè¯•ä¿¡æ¯</h3>
    <div class="text-sm font-mono text-on-surface-variant space-y-1" id="css-variables">
      <!-- JavaScript åŠ¨æ€å¡«å…… -->
    </div>
  </div>
</div>

<script>
  // ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½
  function setTheme(theme: string): void {
    document.documentElement.setAttribute('data-theme', theme);
    localStorage.setItem('theme', theme);
    
    // æ›´æ–°å½“å‰ä¸»é¢˜æ˜¾ç¤º
    const currentThemeEl = document.getElementById('current-theme');
    if (currentThemeEl) {
      currentThemeEl.textContent = theme;
    }
    
    // æ›´æ–°æŒ‰é’®çŠ¶æ€
    document.querySelectorAll('[data-theme]').forEach(btn => {
      btn.classList.remove('btn-primary');
      btn.classList.add('btn-secondary');
    });
    
    const activeBtn = document.querySelector(`[data-theme="${theme}"]`);
    if (activeBtn) {
      activeBtn.classList.remove('btn-secondary');
      activeBtn.classList.add('btn-primary');
    }
    
    updateDebugInfo();
  }

  // æ›´æ–°è°ƒè¯•ä¿¡æ¯
  function updateDebugInfo(): void {
    const debugEl = document.getElementById('css-variables');
    if (!debugEl) return;
    
    const styles = getComputedStyle(document.documentElement);
    const colorVariables: Record<string, string> = {};
    
    // æ”¶é›†é¢œè‰²å˜é‡
    for (let prop of styles) {
      if (prop.startsWith('--color-') && prop.includes('primary')) {
        colorVariables[prop] = styles.getPropertyValue(prop).trim();
      }
    }
    
    // æ˜¾ç¤ºä¸»è¦å˜é‡
    const html = Object.entries(colorVariables)
      .slice(0, 5) // åªæ˜¾ç¤ºå‰5ä¸ª
      .map(([prop, value]) => `<div>${prop}: ${value}</div>`)
      .join('');
    
    debugEl.innerHTML = html;
  }

  // åŠ¨ç”»æ¼”ç¤ºé‡æ–°è§¦å‘
  function triggerAnimation(buttonId: string, animationClass: string): void {
    const button = document.getElementById(buttonId);
    if (!button) return;
    
    button.classList.remove(animationClass);
    button.offsetHeight; // å¼ºåˆ¶é‡æ’
    button.classList.add(animationClass);
  }

  // åˆå§‹åŒ–
  document.addEventListener('DOMContentLoaded', () => {
    // è¯»å–ä¿å­˜çš„ä¸»é¢˜
    const savedTheme = localStorage.getItem('theme') || 'default';
    setTheme(savedTheme);
    
    // ç»‘å®šä¸»é¢˜åˆ‡æ¢æŒ‰é’®
    document.querySelectorAll('[data-theme]').forEach(button => {
      button.addEventListener('click', (e: Event) => {
        const target = e.target as HTMLElement;
        const theme = target.getAttribute('data-theme');
        if (theme) {
          setTheme(theme);
        }
      });
    });
    
    // ç»‘å®šåŠ¨ç”»æ¼”ç¤ºæŒ‰é’®
    document.getElementById('fade-demo')?.addEventListener('click', () => {
      triggerAnimation('fade-demo', 'motion-safe:animate-fade-in');
    });
    
    document.getElementById('slide-demo')?.addEventListener('click', () => {
      triggerAnimation('slide-demo', 'motion-safe:animate-slide-up');
    });
    
    document.getElementById('bounce-demo')?.addEventListener('click', () => {
      triggerAnimation('bounce-demo', 'motion-safe:animate-bounce-in');
    });
    
    // ç³»ç»Ÿä¸»é¢˜æ£€æµ‹
    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
    mediaQuery.addEventListener('change', (e) => {
      const currentTheme = localStorage.getItem('theme');
      if (currentTheme === 'default') {
        setTheme(e.matches ? 'dark' : 'default');
      }
    });
  });
</script>

<style>
  /* ç¡®ä¿è‡ªå®šä¹‰å˜ä½“æ­£å¸¸å·¥ä½œ */
  .theme-wine\:block {
    display: none;
  }
  
  :root[data-theme="wine"] .theme-wine\:block {
    display: block;
  }
  
  .theme-wine-dark\:block {
    display: none;
  }
  
  :root[data-theme="wine-dark"] .theme-wine-dark\:block {
    display: block;
  }
  
  /* åŠ¨ç”»é‡æ–°è§¦å‘çš„è¾…åŠ©æ ·å¼ */
  .animate-trigger {
    animation: none !important;
  }
</style> 