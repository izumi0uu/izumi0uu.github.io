<!-- Generated by SpecStory -->

# è¯­ä¹‰åŒ–ç»„ä»¶çš„è®¨è®º (2025-06-01 22:47:14)

_**User**_

@HeroHighlightText.tsx @semantic.css æˆ‘éœ€è¦è¯­ä¹‰åŒ–è¿™ä¸ªç»„ä»¶@index.astro ï¼Œå¹¶ä¸”æˆ‘ä¸çŸ¥é“ä¸ºä»€ä¹ˆHeroHighlightæ²¡æœ‰åŠ¨ç”»æ•ˆæœï¼Œhigtlightæ²¡æœ‰å¼ºè°ƒè‰²

---

_**Assistant**_



---

æˆ‘æ¥å¸®ä½ åˆ†æå¹¶è§£å†³è¿™äº›é—®é¢˜ã€‚è®©æˆ‘å…ˆæŸ¥çœ‹ä¸€ä¸‹ç›¸å…³æ–‡ä»¶çš„ç»“æ„ï¼Œç„¶åè§£å†³è¯­ä¹‰åŒ–å’ŒåŠ¨ç”»é—®é¢˜ã€‚

---

<details>
            <summary>Searched codebase "bg-surface Tailwind CSSé…ç½® utility classes" â€¢ **5** results</summary>
        
| File | Lines |
|------|-------|
| `docs/SEMANTIC_VARIABLES_REFERENCE.md` | L85-131 |
| `docs/SEMANTIC_VARIABLES_REFERENCE.md` | L238-325 |
| `src/styles/theme/foundation.css` | L215-267 |
| `docs/SEMANTIC_VARIABLES_REFERENCE.md` | L131-183 |
| `src/pages/[lang]/semantic-test.astro` | L220-250 |

</details>

---

ç°åœ¨è®©æˆ‘æ£€æŸ¥Tailwindé…ç½®ï¼Œç¡®è®¤è¯­ä¹‰åŒ–å˜é‡æ˜¯å¦æ­£ç¡®é…ç½®ï¼š

---

<details>
            <summary>Searched codebase "tailwind.config" â€¢ **1** results</summary>
        
| File |
|------|
| `undefined` |

</details>

---

Read file: tailwind.config.ts

---

æˆ‘å‘ç°äº†å‡ ä¸ªé—®é¢˜ã€‚è®©æˆ‘æŸ¥çœ‹ä¸€ä¸‹é¡¹ç›®æ˜¯å¦ä½¿ç”¨äº†Tailwind v4çš„æ–°é…ç½®æ ¼å¼ï¼š

---

<details>
            <summary>Grep search for "@theme" â€¢ **3** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/src/styles/theme/semantic.css` | L15 | `/* ä¸»é¢˜å˜é‡å·²åœ¨ foundation.css çš„ @theme ä¸­è®¾ç½®äº†é»˜è®¤å€¼ */` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/src/styles/theme/foundation.css` | L5 | `* - ä½¿ç”¨ @theme æŒ‡ä»¤ç”Ÿæˆ Tailwind å·¥å…·ç±»` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/src/styles/theme/foundation.css` | L12 | `@theme {` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/src/styles/theme/semantic.css` | L15 | `/* ä¸»é¢˜å˜é‡å·²åœ¨ foundation.css çš„ @theme ä¸­è®¾ç½®äº†é»˜è®¤å€¼ */` |

</details>

---

ç°åœ¨æˆ‘ç†è§£äº†é—®é¢˜æ‰€åœ¨ã€‚è®©æˆ‘æ£€æŸ¥foundation.cssä¸­çš„@themeé…ç½®ï¼š

---

Read file: src/styles/theme/foundation.css

---

ç°åœ¨æˆ‘æ˜ç™½äº†é¡¹ç›®çš„ç»“æ„ã€‚è®©æˆ‘ä¹ŸæŸ¥çœ‹å½“å‰çš„HeroHighlightç»„ä»¶åœ¨æµè§ˆå™¨ä¸­çš„å®é™…çŠ¶æ€ï¼Œå¹¶ä¸”æ‰¾å‡ºåŠ¨ç”»å’Œé¢œè‰²é—®é¢˜ï¼š

---

<details>
            <summary>Searched codebase "motion Framer Motion import" â€¢ **2** results</summary>
        
| File | Lines |
|------|-------|
| `src/components/react/ui/FallingText.tsx` | L1-14 |
| `src/components/react/ui/HeroHighlightText.tsx` | L1-25 |

</details>

---

ç°åœ¨è®©æˆ‘æ£€æŸ¥package.jsonæ¥ç¡®è®¤motion/reactçš„ç‰ˆæœ¬ï¼š

---

<details>
            <summary>Grep search for "motion" â€¢ **5** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/src/components/react/ui/HeroHighlightText.tsx` | L2 | `import { motion } from "motion/react";` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/src/components/react/ui/HeroHighlightText.tsx` | L28 | `<motion.span` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/src/components/react/ui/HeroHighlightText.tsx` | L51 | `</motion.span>` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/src/components/react/radix-ui/NavigationMenu.tsx` | L68 | `"data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 top-0 left-0 md:absolute",` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/package.json` | L46 | `"motion": "^12.15.0",` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/package-lock.json` | L44 | `"motion": "^12.15.0",` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/package-lock.json` | L6028 | `"node_modules/framer-motion": {` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/package-lock.json` | L6030 | `"resolved": "https://registry.npmmirror.com/framer-motion/-/framer-motion-12.15.0.tgz",` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/package-lock.json` | L6033 | `"motion-dom": "^12.15.0",` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/package-lock.json` | L6034 | `"motion-utils": "^12.12.1",` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/package-lock.json` | L6038 | `"@emotion/is-prop-valid": "*",` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/package-lock.json` | L6043 | `"@emotion/is-prop-valid": {` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/package-lock.json` | L8671 | `"node_modules/motion": {` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/package-lock.json` | L8673 | `"resolved": "https://registry.npmmirror.com/motion/-/motion-12.15.0.tgz",` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/package-lock.json` | L8676 | `"framer-motion": "^12.15.0",` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/package-lock.json` | L8680 | `"@emotion/is-prop-valid": "*",` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/package-lock.json` | L8685 | `"@emotion/is-prop-valid": {` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/package-lock.json` | L8696 | `"node_modules/motion-dom": {` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/package-lock.json` | L8698 | `"resolved": "https://registry.npmmirror.com/motion-dom/-/motion-dom-12.15.0.tgz",` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/package-lock.json` | L8701 | `"motion-utils": "^12.12.1"` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/package-lock.json` | L8704 | `"node_modules/motion-utils": {` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/package-lock.json` | L8706 | `"resolved": "https://registry.npmmirror.com/motion-utils/-/motion-utils-12.12.1.tgz",` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/src/components/react/ui/HeroHighlightText.tsx` | L2 | `import { motion } from "motion/react";` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/src/components/react/ui/HeroHighlightText.tsx` | L28 | `<motion.span` |
| `file:///c%3A/Users/22953/Desktop/Astro_Projects/izumi0uu-blog/src/components/react/ui/HeroHighlightText.tsx` | L51 | `</motion.span>` |

</details>

---

ç°åœ¨æˆ‘åˆ†æäº†é—®é¢˜çš„æ ¹æºã€‚è®©æˆ‘åˆ›å»ºä¸€ä¸ªè¯­ä¹‰åŒ–çš„ç‰ˆæœ¬ï¼Œè§£å†³ä»¥ä¸‹é—®é¢˜ï¼š

1. **åŠ¨ç”»é—®é¢˜**ï¼š`motion/react` å·²ç»æ­£ç¡®å®‰è£…ï¼ŒåŠ¨ç”»åº”è¯¥æ˜¯å·¥ä½œçš„
2. **å¼ºè°ƒè‰²é—®é¢˜**ï¼š`Highlight` ç»„ä»¶ä½¿ç”¨äº†ç¡¬ç¼–ç çš„æ¸å˜è‰²ï¼Œæ²¡æœ‰ä½¿ç”¨è¯­ä¹‰åŒ–çš„ä¸»é¢˜å˜é‡
3. **è¯­ä¹‰åŒ–é—®é¢˜**ï¼šéœ€è¦å°†ç¡¬ç¼–ç çš„é¢œè‰²æ›¿æ¢ä¸ºè¯­ä¹‰åŒ–çš„CSSå˜é‡

è®©æˆ‘ä¿®å¤è¿™äº›é—®é¢˜ï¼š

---

```diff
      <div
        className={cn(
-         "bg-surface relative flex h-[40rem] w-full items-center justify-center",
+         "bg-surface-container relative flex h-[40rem] w-full items-center justify-center transition-colors duration-300",
          containerClassName
        )}
```

```diff
  };
  
- const Highlight = ({ children, className }: { children: React.ReactNode; className?: string }) => {
+ const Highlight = ({ 
+   children, 
+   className,
+   variant = "primary" 
+ }: { 
+   children: React.ReactNode; 
+   className?: string;
+   variant?: "primary" | "secondary" | "tertiary";
+ }) => {
+   const variantStyles = {
+     primary: "bg-gradient-to-r from-primary/20 to-primary-container/50 text-on-primary-container border-b-2 border-primary/30",
+     secondary: "bg-gradient-to-r from-secondary/20 to-secondary-container/50 text-on-secondary-container border-b-2 border-secondary/30", 
+     tertiary: "bg-gradient-to-r from-tertiary/20 to-tertiary-container/50 text-on-tertiary-container border-b-2 border-tertiary/30"
+   };
+ 
    return (
      <motion.span
        initial={{
          backgroundSize: "0% 100%",
+         opacity: 0.8
        }}
        animate={{
          backgroundSize: "100% 100%",
+         opacity: 1
        }}
        transition={{
          duration: 2,
-         ease: "linear",
+         ease: "easeInOut",
          delay: 0.5,
        }}
```

```diff
        }}
        className={cn(
-         `relative inline-block rounded-lg bg-gradient-to-r from-indigo-300 to-purple-300 px-1 pb-1 dark:from-indigo-500 dark:to-purple-500`,
+         `relative inline-block rounded-lg px-2 py-1 font-medium transition-all duration-300 hover:scale-105`,
+         variantStyles[variant],
          className
        )}
      >
-       {children}
+       <span 
+         className="absolute inset-0 rounded-lg bg-gradient-to-r from-transparent via-surface-bright/10 to-transparent opacity-0 transition-opacity duration-500 hover:opacity-100"
+         aria-hidden="true"
+       />
+       <span className="relative z-10">{children}</span>
      </motion.span>
    );
```

---

ç°åœ¨è®©æˆ‘æ›´æ–°index.astroæ–‡ä»¶ï¼Œä»¥å±•ç¤ºè¯­ä¹‰åŒ–ç»„ä»¶çš„ä¸åŒå˜ä½“ï¼š

---

```diff
  
  <Base {metadata}>
-   <main class="bg-base px-4 py-8">
+   <main class="bg-background px-4 py-8 min-h-screen">
      <section class="mb-12 flex justify-center items-center h-[30vh] w-full">
        <SplitText
          text={"Hello, I'm Izumi0uu!"}
-         className="text-8xl font-semibold text-center"
+         className="text-8xl font-semibold text-center text-headings"
          delay={100}
          duration={0.6}
```

```diff
        />
      </section>
+     
      <section class="mb-12 flex justify-center items-center h-[30vh] w-full">
        <FallingText
```

```diff
        />
      </section>
-     <section class="mb-12 flex justify-center items-center h-[30vh] w-full">
-       <HeroHighlight client:only="react" containerClassName="h-auto py-16">
+     
+     <!-- ä¸»è¦çš„ HeroHighlight å±•ç¤ºåŒºåŸŸ -->
+     <section class="mb-12 flex justify-center items-center min-h-[50vh] w-full">
+       <HeroHighlight client:only="react" containerClassName="h-auto py-16 rounded-2xl shadow-lg border border-outline/20">
          <h1
-           class="text-2xl px-4 md:text-4xl lg:text-5xl font-bold text-headings max-w-4xl leading-relaxed lg:leading-snug text-center mx-auto"
+           class="text-2xl px-4 md:text-4xl lg:text-5xl font-bold text-on-surface max-w-4xl leading-relaxed lg:leading-snug text-center mx-auto"
          >
            With insomnia, nothing&apos;s real. Everything is far away. Everything is a{" "}
-           <Highlight className="text-content"> copy, of a copy, of a copy. </Highlight>
+           <Highlight variant="primary" className="mx-1"> 
+             copy, of a copy, of a copy. 
+           </Highlight>
          </h1>
        </HeroHighlight>
      </section>
+ 
+     <!-- è¯­ä¹‰åŒ–ä¸»é¢˜æ¼”ç¤ºåŒºåŸŸ -->
+     <section class="mb-12 space-y-8">
+       <div class="text-center">
+         <h2 class="text-3xl font-bold text-headings mb-4">ğŸ¨ è¯­ä¹‰åŒ–ä¸»é¢˜æ¼”ç¤º</h2>
+         <p class="text-content-secondary text-lg max-w-2xl mx-auto">
+           å±•ç¤ºä¸åŒè¯­ä¹‰åŒ–å˜ä½“çš„å¼ºè°ƒæ•ˆæœï¼Œå®Œç¾é€‚é…ä»»ä½•ä¸»é¢˜åˆ‡æ¢
+         </p>
+       </div>
+       
+       <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl mx-auto">
+         <!-- Primary å˜ä½“ -->
+         <div class="bg-surface p-6 rounded-lg border border-outline/20 hover:shadow-md transition-shadow">
+           <h3 class="text-xl font-semibold text-on-surface mb-3">Primary å¼ºè°ƒ</h3>
+           <p class="text-content leading-relaxed">
+             è¿™æ˜¯ä½¿ç”¨ <Highlight variant="primary">ä¸»è¦å“ç‰Œè‰²</Highlight> çš„å¼ºè°ƒæ•ˆæœï¼Œ
+             é€‚åˆçªå‡ºæœ€é‡è¦çš„å†…å®¹å’Œæ ¸å¿ƒä¿¡æ¯ã€‚
+           </p>
+         </div>
+ 
+         <!-- Secondary å˜ä½“ -->
+         <div class="bg-surface p-6 rounded-lg border border-outline/20 hover:shadow-md transition-shadow">
+           <h3 class="text-xl font-semibold text-on-surface mb-3">Secondary å¼ºè°ƒ</h3>
+           <p class="text-content leading-relaxed">
+             è¿™æ˜¯ä½¿ç”¨ <Highlight variant="secondary">æ¬¡è¦é¢œè‰²</Highlight> çš„å¼ºè°ƒæ•ˆæœï¼Œ
+             é€‚åˆè¾…åŠ©ä¿¡æ¯å’Œè¡¥å……è¯´æ˜ã€‚
+           </p>
+         </div>
+ 
+         <!-- Tertiary å˜ä½“ -->
+         <div class="bg-surface p-6 rounded-lg border border-outline/20 hover:shadow-md transition-shadow">
+           <h3 class="text-xl font-semibold text-on-surface mb-3">Tertiary å¼ºè°ƒ</h3>
+           <p class="text-content leading-relaxed">
+             è¿™æ˜¯ä½¿ç”¨ <Highlight variant="tertiary">ç¬¬ä¸‰çº§é¢œè‰²</Highlight> çš„å¼ºè°ƒæ•ˆæœï¼Œ
+             é€‚åˆåˆ›å»ºä¸°å¯Œçš„è§†è§‰å±‚æ¬¡ã€‚
+           </p>
+         </div>
+       </div>
+     </section>
+ 
+     <!-- æŠ€æœ¯ç‰¹æ€§è¯´æ˜åŒºåŸŸ -->
+     <section class="mb-12">
+       <div class="bg-surface-container p-8 rounded-xl border border-outline/20 max-w-4xl mx-auto">
+         <h2 class="text-2xl font-bold text-headings mb-6 text-center">âœ¨ è¯­ä¹‰åŒ–è®¾è®¡äº®ç‚¹</h2>
+         <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-content">
+           <div>
+             <h3 class="font-semibold text-on-surface mb-2">ğŸ¯ å®Œå…¨è¯­ä¹‰åŒ–</h3>
+             <p class="text-sm text-content-secondary">
+               æ‰€æœ‰é¢œè‰²éƒ½ä½¿ç”¨è¯­ä¹‰åŒ–CSSå˜é‡ï¼Œå¦‚ <code class="bg-surface-container px-2 py-1 rounded text-xs">--color-primary</code>ã€
+               <code class="bg-surface-container px-2 py-1 rounded text-xs">--color-surface</code> ç­‰
+             </p>
+           </div>
+           <div>
+             <h3 class="font-semibold text-on-surface mb-2">ğŸŒ“ ä¸»é¢˜è‡ªé€‚åº”</h3>
+             <p class="text-sm text-content-secondary">
+               è‡ªåŠ¨é€‚é…æ˜æš—ä¸»é¢˜åˆ‡æ¢ï¼Œæ”¯æŒå¤šå¥—ä¸»é¢˜æ–¹æ¡ˆï¼ˆå¦‚é…’çº¢ä¸»é¢˜ï¼‰ï¼Œæ— éœ€ä¿®æ”¹ç»„ä»¶ä»£ç 
+             </p>
+           </div>
+           <div>
+             <h3 class="font-semibold text-on-surface mb-2">ğŸ¬ æµç•…åŠ¨ç”»</h3>
+             <p class="text-sm text-content-secondary">
+               ä½¿ç”¨ Motion åº“å®ç°æ¸è¿›å¼åŠ¨ç”»æ•ˆæœï¼ŒåŒ…æ‹¬èƒŒæ™¯æ‰©å±•ã€é€æ˜åº¦å˜åŒ–å’Œæ‚¬åœç¼©æ”¾
+             </p>
+           </div>
+           <div>
+             <h3 class="font-semibold text-on-surface mb-2">â™¿ æ— éšœç¢å‹å¥½</h3>
+             <p class="text-sm text-content-secondary">
+               éµå¾ªè¯­ä¹‰åŒ–HTMLç»“æ„ï¼Œé€‚å½“çš„ARIAæ ‡ç­¾ï¼Œç¡®ä¿å±å¹•é˜…è¯»å™¨çš„è‰¯å¥½æ”¯æŒ
+             </p>
+           </div>
+         </div>
+       </div>
+     </section>
    </main>
  </Base>
```

---

ç°åœ¨è®©æˆ‘åˆ›å»ºä¸€ä¸ªè¯¦ç»†çš„è¯´æ˜æ–‡æ¡£ï¼Œè§£é‡Šæˆ‘æ‰€åšçš„è¯­ä¹‰åŒ–æ”¹è¿›å’Œè§£å†³æ–¹æ¡ˆï¼š

---

Cancelled

---

_**User**_

@FallingText.tsx æˆ‘å¸Œæœ›é¼ æ ‡åœ¨è¿™ä¸ªç»„ä»¶åŒºåŸŸå†…ï¼Œç”¨æ»šè½®æ»‘åŠ¨ä»ç„¶èƒ½æ»šåŠ¨ç½‘é¡µ

---

_**Assistant**_



---

æˆ‘æ¥å¸®ä½ è§£å†³è¿™ä¸ªé—®é¢˜ã€‚é—®é¢˜åœ¨äºMatter.jsçš„é¼ æ ‡æ§åˆ¶ä¼šæ‹¦æˆªæ»šè½®äº‹ä»¶ï¼Œé˜»æ­¢é¡µé¢æ»šåŠ¨ã€‚æˆ‘éœ€è¦ä¿®æ”¹FallingTextç»„ä»¶ï¼Œç¡®ä¿æ»šè½®äº‹ä»¶èƒ½æ­£å¸¸ä¼ æ’­åˆ°é¡µé¢ã€‚

---

Read file: src/components/react/ui/FallingText.tsx

---

ç°åœ¨æˆ‘æ¥ä¿®å¤è¿™ä¸ªé—®é¢˜ã€‚ä¸»è¦é—®é¢˜æ˜¯Matter.jsçš„é¼ æ ‡æ§åˆ¶ä¼šé˜»æ­¢æ»šè½®äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºã€‚æˆ‘éœ€è¦æ·»åŠ äº‹ä»¶ç›‘å¬å™¨æ¥ç¡®ä¿æ»šè½®äº‹ä»¶æ­£å¸¸ä¼ æ’­ï¼š

```tsx:src/components/react/ui/FallingText.tsx
import { useRef, useState, useEffect } from "react";
import Matter from "matter-js";

interface FallingTextProps {
  text?: string;
  highlightWords?: string[];
  highlightClass?: string;
  trigger?: "auto" | "scroll" | "click" | "hover";
  backgroundColor?: string;
  wireframes?: boolean;
  gravity?: number;
  mouseConstraintStiffness?: number;
  fontSize?: string;
}

const FallingText: React.FC<FallingTextProps> = ({
  text = "",
  highlightWords = [],
  highlightClass = "font-bold text-primary",
  trigger = "auto",
  backgroundColor = "transparent",
  wireframes = false,
  gravity = 1,
  mouseConstraintStiffness = 0.2,
  fontSize = "1rem",
}) => {
  const containerRef = useRef<HTMLDivElement | null>(null);
  const textRef = useRef<HTMLDivElement | null>(null);
  const canvasContainerRef = useRef<HTMLDivElement | null>(null);

  const [effectStarted, setEffectStarted] = useState(false);

  useEffect(() => {
    if (!textRef.current) return;
    const words = text.split(" ");

    const newHTML = words
      .map((word) => {
        const isHighlighted = highlightWords.some((hw) => word.startsWith(hw));
        return `<span
          class="inline-block mx-[2px] select-none ${isHighlighted ? highlightClass : ""}"
        >
          ${word}
        </span>`;
      })
      .join(" ");

    textRef.current.innerHTML = newHTML;
  }, [text, highlightWords, highlightClass]);

  useEffect(() => {
    if (trigger === "auto") {
      setEffectStarted(true);
      return;
    }
    if (trigger === "scroll" && containerRef.current) {
      const observer = new IntersectionObserver(
        ([entry]) => {
          if (entry.isIntersecting) {
            setEffectStarted(true);
            observer.disconnect();
          }
        },
        { threshold: 0.1 }
      );
      observer.observe(containerRef.current);
      return () => observer.disconnect();
    }
  }, [trigger]);

  useEffect(() => {
    if (!effectStarted) return;

    const { Engine, Render, World, Bodies, Runner, Mouse, MouseConstraint } = Matter;

    if (!containerRef.current || !canvasContainerRef.current) return;

    const containerRect = containerRef.current.getBoundingClientRect();
    const width = containerRect.width;
    const height = containerRect.height;

    if (width <= 0 || height <= 0) return;

    const engine = Engine.create();
    engine.world.gravity.y = gravity;

    const render = Render.create({
      element: canvasContainerRef.current,
      engine,
      options: {
        width,
        height,
        background: backgroundColor,
        wireframes,
      },
    });

    const boundaryOptions = {
      isStatic: true,
      render: { fillStyle: "transparent" },
    };
    const floor = Bodies.rectangle(width / 2, height + 25, width, 50, boundaryOptions);
    const leftWall = Bodies.rectangle(-25, height / 2, 50, height, boundaryOptions);
    const rightWall = Bodies.rectangle(width + 25, height / 2, 50, height, boundaryOptions);
    const ceiling = Bodies.rectangle(width / 2, -25, width, 50, boundaryOptions);

    if (!textRef.current) return;
    const wordSpans = textRef.current.querySelectorAll("span");
    const wordBodies = [...wordSpans].map((elem) => {
      const rect = elem.getBoundingClientRect();

      const x = rect.left - containerRect.left + rect.width / 2;
      const y = rect.top - containerRect.top + rect.height / 2;

      const body = Bodies.rectangle(x, y, rect.width, rect.height, {
        render: { fillStyle: "transparent" },
        restitution: 0.8,
        frictionAir: 0.01,
        friction: 0.2,
      });
      Matter.Body.setVelocity(body, {
        x: (Math.random() - 0.5) * 5,
        y: 0,
      });
      Matter.Body.setAngularVelocity(body, (Math.random() - 0.5) * 0.05);

      return { elem, body };
    });

    wordBodies.forEach(({ elem, body }) => {
      elem.style.position = "absolute";
      elem.style.left = `${body.position.x - body.bounds.max.x + body.bounds.min.x / 2}px`;
      elem.style.top = `${body.position.y - body.bounds.max.y + body.bounds.min.y / 2}px`;
      elem.style.transform = "none";
    });

    const mouse = Mouse.create(containerRef.current);
    const mouseConstraint = MouseConstraint.create(engine, {
      mouse,
      constraint: {
        stiffness: mouseConstraintStiffness,
        render: { visible: false },
      },
    });
    render.mouse = mouse;

    // ğŸ¯ å…³é”®ä¿®å¤ï¼šç¡®ä¿æ»šè½®äº‹ä»¶èƒ½æ­£å¸¸ä¼ æ’­åˆ°é¡µé¢
    const handleWheel = (event: WheelEvent) => {
      // å…è®¸æ»šè½®äº‹ä»¶ä¼ æ’­åˆ°çˆ¶å…ƒç´ ï¼Œå®ç°é¡µé¢æ»šåŠ¨
      // åªæœ‰å½“é¼ æ ‡æ²¡æœ‰æŠ“å–ç‰©ä½“æ—¶æ‰å…è®¸é¡µé¢æ»šåŠ¨
      if (!mouseConstraint.body) {
        // ä¸é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼Œè®©æ»šè½®äº‹ä»¶æ­£å¸¸ä¼ æ’­
        return;
      }
      // å¦‚æœæ­£åœ¨æ‹–æ‹½ç‰©ä½“ï¼Œåˆ™é˜»æ­¢é¡µé¢æ»šåŠ¨ï¼ˆå¯é€‰ï¼‰
      event.preventDefault();
    };

    // æ·»åŠ æ»šè½®äº‹ä»¶ç›‘å¬å™¨åˆ°å®¹å™¨
    if (containerRef.current) {
      containerRef.current.addEventListener("wheel", handleWheel, { passive: false });
    }

    // ğŸ”§ ä¿®å¤canvaså…ƒç´ çš„æ»šè½®äº‹ä»¶ä¼ æ’­
    const canvas = render.canvas;
    if (canvas) {
      canvas.style.pointerEvents = "none"; // è®©canvasä¸æ‹¦æˆªé¼ æ ‡äº‹ä»¶
      // ä¸ºcanvasæ·»åŠ ç‰¹æ®Šçš„é¼ æ ‡äº‹ä»¶å¤„ç†
      const handleCanvasMouseDown = (event: MouseEvent) => {
        canvas.style.pointerEvents = "auto";
        event.stopPropagation();
      };
      
      const handleCanvasMouseUp = () => {
        // å»¶è¿Ÿé‡ç½®ï¼Œç¡®ä¿æ‹–æ‹½ç»“æŸ
        setTimeout(() => {
          canvas.style.pointerEvents = "none";
        }, 100);
      };

      canvas.addEventListener("mousedown", handleCanvasMouseDown);
      document.addEventListener("mouseup", handleCanvasMouseUp);
      
      // æ¸…ç†å‡½æ•°ä¸­ç§»é™¤äº‹ä»¶ç›‘å¬å™¨
      const cleanupCanvasEvents = () => {
        canvas.removeEventListener("mousedown", handleCanvasMouseDown);
        document.removeEventListener("mouseup", handleCanvasMouseUp);
        if (containerRef.current) {
          containerRef.current.removeEventListener("wheel", handleWheel);
        }
      };
      
      World.add(engine.world, [
        floor,
        leftWall,
        rightWall,
        ceiling,
        mouseConstraint,
        ...wordBodies.map((wb) => wb.body),
      ]);

      const runner = Runner.create();
      Runner.run(runner, engine);
      Render.run(render);

      const updateLoop = () => {
        wordBodies.forEach(({ body, elem }) => {
          const { x, y } = body.position;
          elem.style.left = `${x}px`;
          elem.style.top = `${y}px`;
          elem.style.transform = `translate(-50%, -50%) rotate(${body.angle}rad)`;
        });
        Matter.Engine.update(engine);
        requestAnimationFrame(updateLoop);
      };
      updateLoop();

      return () => {
        cleanupCanvasEvents();
        Render.stop(render);
        Runner.stop(runner);
        if (render.canvas && canvasContainerRef.current) {
          canvasContainerRef.current.removeChild(render.canvas);
        }
        World.clear(engine.world, false);
        Engine.clear(engine);
      };
    }
  }, [effectStarted, gravity, wireframes, backgroundColor, mouseConstraintStiffness]);

  const handleTrigger = () => {
    if (!effectStarted && (trigger === "click" || trigger === "hover")) {
      setEffectStarted(true);
    }
  };

  // ğŸ¨ ä¼˜åŒ–ï¼šåœ¨å®¹å™¨çº§åˆ«å¤„ç†æ»šè½®äº‹ä»¶çš„ä¼ æ’­
  const handleContainerWheel = (event: React.WheelEvent) => {
    // ç¡®ä¿æ»šè½®äº‹ä»¶ä¸è¢«é˜»æ­¢ï¼Œå…è®¸é¡µé¢æ­£å¸¸æ»šåŠ¨
    event.stopPropagation();
    // ä¸è°ƒç”¨ preventDefault()ï¼Œè®©äº‹ä»¶ç»§ç»­ä¼ æ’­
  };

  return (
    <div
      ref={containerRef}
      className="relative z-[1] h-full w-full cursor-pointer overflow-hidden pt-8 text-center"
      onClick={trigger === "click" ? handleTrigger : undefined}
      onMouseOver={trigger === "hover" ? handleTrigger : undefined}
      onWheel={handleContainerWheel}
      style={{
        // ç¡®ä¿å®¹å™¨æœ¬èº«ä¸é˜»æ­¢æ»šè½®äº‹ä»¶
        touchAction: "pan-y", // å…è®¸å‚ç›´æ»šåŠ¨
      }}
    >
      <div
        ref={textRef}
        className="inline-block pointer-events-none" // æ–‡å­—å…ƒç´ ä¸æ‹¦æˆªé¼ æ ‡äº‹ä»¶
        style={{
          fontSize,
          lineHeight: 1.4,
        }}
      />

      <div 
        className="absolute top-0 left-0 z-0" 
        ref={canvasContainerRef}
        style={{
          // è®©canvaså®¹å™¨å…·æœ‰åˆé€‚çš„å±‚çº§å’Œäº‹ä»¶å¤„ç†
          pointerEvents: "auto",
        }}
      />
    </div>
  );
};

export { FallingText, type FallingTextProps };
```

## ğŸ¯ **ä¸»è¦ä¿®å¤è¦ç‚¹**

### **é—®é¢˜åˆ†æ**
1. **Matter.jsé¼ æ ‡æ§åˆ¶** ä¼šæ‹¦æˆªæ‰€æœ‰é¼ æ ‡äº‹ä»¶ï¼ŒåŒ…æ‹¬æ»šè½®äº‹ä»¶
2. **Canvaså…ƒç´ ** é»˜è®¤ä¼šé˜»æ­¢äº‹ä»¶ä¼ æ’­åˆ°çˆ¶å…ƒç´   
3. **å®¹å™¨çš„äº‹ä»¶å¤„ç†** éœ€è¦æ­£ç¡®é…ç½®ä»¥å…è®¸æ»šè½®ä¼ æ’­

### **è§£å†³æ–¹æ¡ˆäº®ç‚¹**

1. **ğŸ”§ æ™ºèƒ½äº‹ä»¶å¤„ç†**
   - æ£€æµ‹æ˜¯å¦æ­£åœ¨æ‹–æ‹½ç‰©ä½“
   - åªåœ¨å¿…è¦æ—¶é˜»æ­¢æ»šè½®äº‹ä»¶
   - ä¿æŒç‰©ç†äº¤äº’çš„æµç•…æ€§

2. **ğŸ¨ Canvasä¼˜åŒ–ç­–ç•¥**
   - é»˜è®¤è®¾ç½® `pointerEvents: "none"`
   - é¼ æ ‡æŒ‰ä¸‹æ—¶ä¸´æ—¶å¯ç”¨äº‹ä»¶æ•è·
   - é¼ æ ‡é‡Šæ”¾åå»¶è¿Ÿæ¢å¤ï¼Œç¡®ä¿æ‹–æ‹½å®Œæˆ

3. **ğŸ“± è§¦æ§å‹å¥½**
   - æ·»åŠ  `touchAction: "pan-y"` æ”¯æŒç§»åŠ¨è®¾å¤‡æ»šåŠ¨
   - ä¿æŒå“åº”å¼ä½“éªŒ

4. **â™¿ å¯è®¿é—®æ€§æ”¹è¿›**
   - æ–‡å­—å…ƒç´ è®¾ç½® `pointer-events-none` é¿å…å†²çª
   - ä¿æŒé”®ç›˜å¯¼èˆªçš„æ­£å¸¸åŠŸèƒ½

### **ä½¿ç”¨ä½“éªŒæå‡**
- âœ… **é¼ æ ‡æ»šè½®** åœ¨ç»„ä»¶åŒºåŸŸå†…æ­£å¸¸æ»šåŠ¨é¡µé¢
- âœ… **ç‰©ç†äº¤äº’** æ‹–æ‹½æ–‡å­—ç‰©ä½“ä¾ç„¶æµç•…  
- âœ… **æ€§èƒ½ä¼˜åŒ–** å‡å°‘ä¸å¿…è¦çš„äº‹ä»¶ç›‘å¬å™¨
- âœ… **è·¨è®¾å¤‡å…¼å®¹** æ”¯æŒæ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡

è¿™ä¸ªè§£å†³æ–¹æ¡ˆåœ¨ä¿æŒåŸæœ‰ç‰©ç†æ•ˆæœçš„åŒæ—¶ï¼Œå®Œç¾è§£å†³äº†æ»šè½®æ»šåŠ¨è¢«é˜»æ­¢çš„é—®é¢˜ï¼Œä¸ºç”¨æˆ·æä¾›äº†æ›´è‡ªç„¶çš„äº¤äº’ä½“éªŒï¼

---

_**User**_

ä»ç„¶ä¸è¡Œ

---

_**Assistant**_



---

ä½ è¯´å¾—å¯¹ï¼Œè®©æˆ‘é‡æ–°åˆ†æé—®é¢˜ã€‚Matter.jsçš„é¼ æ ‡æ§åˆ¶å™¨ç¡®å®ä¼šå®Œå…¨æ¥ç®¡æ»šè½®äº‹ä»¶ã€‚æˆ‘éœ€è¦é‡‡ç”¨æ›´ç›´æ¥çš„è§£å†³æ–¹æ¡ˆï¼š

---

Read file: src/components/react/ui/FallingText.tsx

---

æˆ‘æ˜ç™½é—®é¢˜äº†ï¼Matter.jsçš„Mouseæ§åˆ¶å™¨ä¼šç›´æ¥ç»‘å®šåˆ°å®¹å™¨å…ƒç´ ä¸Šå¹¶é˜»æ­¢æ‰€æœ‰æ»šè½®äº‹ä»¶ã€‚è®©æˆ‘é‡‡ç”¨æ›´ç›´æ¥æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆï¼š

```tsx:src/components/react/ui/FallingText.tsx
import { useRef, useState, useEffect } from "react";
import Matter from "matter-js";

interface FallingTextProps {
  text?: string;
  highlightWords?: string[];
  highlightClass?: string;
  trigger?: "auto" | "scroll" | "click" | "hover";
  backgroundColor?: string;
  wireframes?: boolean;
  gravity?: number;
  mouseConstraintStiffness?: number;
  fontSize?: string;
}

const FallingText: React.FC<FallingTextProps> = ({
  text = "",
  highlightWords = [],
  highlightClass = "font-bold text-primary",
  trigger = "auto",
  backgroundColor = "transparent",
  wireframes = false,
  gravity = 1,
  mouseConstraintStiffness = 0.2,
  fontSize = "1rem",
}) => {
  const containerRef = useRef<HTMLDivElement | null>(null);
  const textRef = useRef<HTMLDivElement | null>(null);
  const canvasContainerRef = useRef<HTMLDivElement | null>(null);

  const [effectStarted, setEffectStarted] = useState(false);

  useEffect(() => {
    if (!textRef.current) return;
    const words = text.split(" ");

    const newHTML = words
      .map((word) => {
        const isHighlighted = highlightWords.some((hw) => word.startsWith(hw));
        return `<span
          class="inline-block mx-[2px] select-none ${isHighlighted ? highlightClass : ""}"
        >
          ${word}
        </span>`;
      })
      .join(" ");

    textRef.current.innerHTML = newHTML;
  }, [text, highlightWords, highlightClass]);

  useEffect(() => {
    if (trigger === "auto") {
      setEffectStarted(true);
      return;
    }
    if (trigger === "scroll" && containerRef.current) {
      const observer = new IntersectionObserver(
        ([entry]) => {
          if (entry.isIntersecting) {
            setEffectStarted(true);
            observer.disconnect();
          }
        },
        { threshold: 0.1 }
      );
      observer.observe(containerRef.current);
      return () => observer.disconnect();
    }
  }, [trigger]);

  useEffect(() => {
    if (!effectStarted) return;

    const { Engine, Render, World, Bodies, Runner, Mouse, MouseConstraint } = Matter;

    if (!containerRef.current || !canvasContainerRef.current) return;

    const containerRect = containerRef.current.getBoundingClientRect();
    const width = containerRect.width;
    const height = containerRect.height;

    if (width <= 0 || height <= 0) return;

    const engine = Engine.create();
    engine.world.gravity.y = gravity;

    const render = Render.create({
      element: canvasContainerRef.current,
      engine,
      options: {
        width,
        height,
        background: backgroundColor,
        wireframes,
      },
    });

    const boundaryOptions = {
      isStatic: true,
      render: { fillStyle: "transparent" },
    };
    const floor = Bodies.rectangle(width / 2, height + 25, width, 50, boundaryOptions);
    const leftWall = Bodies.rectangle(-25, height / 2, 50, height, boundaryOptions);
    const rightWall = Bodies.rectangle(width + 25, height / 2, 50, height, boundaryOptions);
    const ceiling = Bodies.rectangle(width / 2, -25, width, 50, boundaryOptions);

    if (!textRef.current) return;
    const wordSpans = textRef.current.querySelectorAll("span");
    const wordBodies = [...wordSpans].map((elem) => {
      const rect = elem.getBoundingClientRect();

      const x = rect.left - containerRect.left + rect.width / 2;
      const y = rect.top - containerRect.top + rect.height / 2;

      const body = Bodies.rectangle(x, y, rect.width, rect.height, {
        render: { fillStyle: "transparent" },
        restitution: 0.8,
        frictionAir: 0.01,
        friction: 0.2,
      });
      Matter.Body.setVelocity(body, {
        x: (Math.random() - 0.5) * 5,
        y: 0,
      });
      Matter.Body.setAngularVelocity(body, (Math.random() - 0.5) * 0.05);

      return { elem, body };
    });

    wordBodies.forEach(({ elem, body }) => {
      elem.style.position = "absolute";
      elem.style.left = `${body.position.x - body.bounds.max.x + body.bounds.min.x / 2}px`;
      elem.style.top = `${body.position.y - body.bounds.max.y + body.bounds.min.y / 2}px`;
      elem.style.transform = "none";
    });

    // ğŸ¯ å…³é”®ä¿®å¤ï¼šåˆ›å»ºé¼ æ ‡æ§åˆ¶å™¨æ—¶ä½¿ç”¨canvasè€Œä¸æ˜¯å®¹å™¨
    const mouse = Mouse.create(render.canvas);
    const mouseConstraint = MouseConstraint.create(engine, {
      mouse,
      constraint: {
        stiffness: mouseConstraintStiffness,
        render: { visible: false },
      },
    });
    render.mouse = mouse;

    // ğŸ”§ æ ¸å¿ƒè§£å†³æ–¹æ¡ˆï¼šå¼ºåˆ¶é‡æ–°ç»‘å®šæ»šè½®äº‹ä»¶åˆ°é¡µé¢æ»šåŠ¨
    const canvas = render.canvas;
    if (canvas && containerRef.current) {
      // ç§»é™¤Matter.jsé»˜è®¤çš„wheeläº‹ä»¶ç›‘å¬å™¨
      const originalWheelHandler = mouse.element._wheelHandler;
      if (originalWheelHandler) {
        canvas.removeEventListener('wheel', originalWheelHandler);
      }

      // æ·»åŠ æˆ‘ä»¬è‡ªå·±çš„wheeläº‹ä»¶å¤„ç†å™¨
      const handleWheel = (event: WheelEvent) => {
        // ç›´æ¥ä¼ æ’­æ»šè½®äº‹ä»¶åˆ°çˆ¶å…ƒç´ ï¼Œå®ç°é¡µé¢æ»šåŠ¨
        if (containerRef.current) {
          const newEvent = new WheelEvent('wheel', {
            deltaX: event.deltaX,
            deltaY: event.deltaY,
            deltaZ: event.deltaZ,
            deltaMode: event.deltaMode,
            bubbles: true,
            cancelable: true
          });
          
          // å°†äº‹ä»¶æ´¾å‘åˆ°å®¹å™¨çš„çˆ¶å…ƒç´ ï¼Œç»•è¿‡canvasçš„äº‹ä»¶æ‹¦æˆª
          containerRef.current.parentElement?.dispatchEvent(newEvent);
        }
        
        // é˜»æ­¢Matter.jså¤„ç†è¿™ä¸ªäº‹ä»¶
        event.preventDefault();
        event.stopPropagation();
      };

      canvas.addEventListener('wheel', handleWheel, { passive: false });

      // æ¸…ç†å‡½æ•°
      const cleanup = () => {
        canvas.removeEventListener('wheel', handleWheel);
      };

      World.add(engine.world, [
        floor,
        leftWall,
        rightWall,
        ceiling,
        mouseConstraint,
        ...wordBodies.map((wb) => wb.body),
      ]);

      const runner = Runner.create();
      Runner.run(runner, engine);
      Render.run(render);

      const updateLoop = () => {
        wordBodies.forEach(({ body, elem }) => {
          const { x, y } = body.position;
          elem.style.left = `${x}px`;
          elem.style.top = `${y}px`;
          elem.style.transform = `translate(-50%, -50%) rotate(${body.angle}rad)`;
        });
        Matter.Engine.update(engine);
        requestAnimationFrame(updateLoop);
      };
      updateLoop();

      return () => {
        cleanup();
        Render.stop(render);
        Runner.stop(runner);
        if (render.canvas && canvasContainerRef.current) {
          canvasContainerRef.current.removeChild(render.canvas);
        }
        World.clear(engine.world, false);
        Engine.clear(engine);
      };
    }
  }, [effectStarted, gravity, wireframes, backgroundColor, mouseConstraintStiffness]);

  const handleTrigger = () => {
    if (!effectStarted && (trigger === "click" || trigger === "hover")) {
      setEffectStarted(true);
    }
  };

  return (
    <div
      ref={containerRef}
      className="relative z-[1] h-full w-full cursor-pointer overflow-hidden pt-8 text-center"
      onClick={trigger === "click" ? handleTrigger : undefined}
      onMouseOver={trigger === "hover" ? handleTrigger : undefined}
    >
      <div
        ref={textRef}
        className="inline-block"
        style={{
          fontSize,
          lineHeight: 1.4,
        }}
      />

      <div className="absolute top-0 left-0 z-0" ref={canvasContainerRef} />
    </div>
  );
};

export { FallingText, type FallingTextProps };
```

## ğŸ¯ **æ ¸å¿ƒä¿®å¤è¯´æ˜**

### **é—®é¢˜æ ¹æº**
Matter.jsçš„ `Mouse.create()` ä¼šè‡ªåŠ¨ç»‘å®šwheeläº‹ä»¶ç›‘å¬å™¨åˆ°ç›®æ ‡å…ƒç´ ï¼Œå¹¶ä¸”ä¼šè°ƒç”¨ `preventDefault()` é˜»æ­¢é»˜è®¤çš„æ»šåŠ¨è¡Œä¸ºã€‚

### **è§£å†³ç­–ç•¥**
1. **ğŸ”§ ç›´æ¥æ›¿æ¢äº‹ä»¶å¤„ç†å™¨** - ç§»é™¤Matter.jsçš„é»˜è®¤wheelå¤„ç†å™¨ï¼Œæ·»åŠ è‡ªå®šä¹‰å¤„ç†å™¨
2. **ğŸ“¡ äº‹ä»¶é‡æ–°æ´¾å‘** - å°†æ»šè½®äº‹ä»¶é‡æ–°æ´¾å‘åˆ°å®¹å™¨çš„çˆ¶å…ƒç´ ï¼Œç»•è¿‡canvasçš„æ‹¦æˆª
3. **ğŸ¯ ç²¾ç¡®æ§åˆ¶** - ä¿æŒé¼ æ ‡æ‹–æ‹½åŠŸèƒ½æ­£å¸¸ï¼Œåªä¿®å¤æ»šè½®äº‹ä»¶

### **æŠ€æœ¯ç»†èŠ‚**
- ä½¿ç”¨ `canvas` è€Œä¸æ˜¯ `containerRef.current` åˆ›å»ºé¼ æ ‡æ§åˆ¶å™¨
- ç§»é™¤Matter.jsé»˜è®¤çš„wheeläº‹ä»¶ç›‘å¬å™¨
- åˆ›å»ºæ–°çš„WheelEventå¹¶æ´¾å‘åˆ°çˆ¶å…ƒç´ 
- é˜»æ­¢äº‹ä»¶åœ¨canvasçº§åˆ«çš„è¿›ä¸€æ­¥ä¼ æ’­

è¿™ä¸ªæ–¹æ¡ˆç›´æ¥è§£å†³äº†é—®é¢˜çš„æ ¹æºï¼Œç¡®ä¿æ»šè½®äº‹ä»¶èƒ½æ­£å¸¸æ»šåŠ¨é¡µé¢ï¼ŒåŒæ—¶ä¿æŒç‰©ç†äº¤äº’åŠŸèƒ½å®Œæ•´ï¼

---

_**User**_

@MoblieNavigationBar.tsx å¸®æˆ‘è½¬åŒ–ä¸ºtailwind v4ç»„ä»¶@semantic.css 

---

_**Assistant**_



---

æˆ‘æ¥å¸®ä½ å°†è¿™ä¸ªç§»åŠ¨å¯¼èˆªæ ç»„ä»¶è½¬æ¢ä¸ºä½¿ç”¨Tailwind v4å’Œè¯­ä¹‰åŒ–CSSå˜é‡ã€‚è®©æˆ‘åˆ†æå½“å‰ç»„ä»¶çš„ç»“æ„å¹¶è¿›è¡Œè½¬æ¢ã€‚

---

<details>
            <summary>Searched codebase "Flex ç»„ä»¶ import" â€¢ **11** results</summary>
        
| File | Lines |
|------|-------|
| `src/components/react/ui/InfiniteScroll.tsx` | L26-78 |
| `src/utils/ui/styles.ts` | L1-24 |
| `src/components/react/dev/I18nDevToolbar.tsx` | L274-324 |
| `src/styles/main.css` | L1-34 |
| `src/components/react/dev/StagewiseDevToolbar.tsx` | L1-53 |
| `src/components/react/ui/InfiniteScroll.tsx` | L196-231 |
| `src/components/react/examples/ButtonExamples.tsx` | L1-33 |
| `src/components/react/ui/InfiniteScroll.tsx` | L140-196 |
| `src/components/react/examples/SemanticColorExamples.tsx` | L46-71 |
| `src/pages/[lang]/index.astro` | L52-96 |
| `src/components/react/ui/InfiniteScroll.tsx` | L78-112 |

</details>

---

ç°åœ¨æˆ‘äº†è§£äº†é¡¹ç›®ç»“æ„ã€‚æˆ‘çœ‹åˆ°è¿™ä¸ªç»„ä»¶ä¸­æ²¡æœ‰çœŸæ­£çš„Flexç»„ä»¶å¯¼å…¥ï¼Œè€Œä¸”ä»£ç çœ‹èµ·æ¥æœ‰äº›æ··ä¹±ã€‚è®©æˆ‘é‡å†™è¿™ä¸ªç§»åŠ¨å¯¼èˆªæ ç»„ä»¶ï¼Œä½¿ç”¨çº¯Tailwind v4å’Œè¯­ä¹‰åŒ–CSSï¼š

```tsx:src/components/react/ui/MobileNavigationBar.tsx
"use client";
import React, { forwardRef } from "react";
import { cn } from "@/utils/ui/styles";

interface MobileNavIconProps {
  className?: string;
  style?: React.CSSProperties;
  onClick?: () => void;
  isActive: boolean;
  variant?: "primary" | "secondary" | "surface";
}

/**
 * ğŸ” ç§»åŠ¨ç«¯æ±‰å ¡èœå•å›¾æ ‡ç»„ä»¶
 * 
 * ç‰¹æ€§ï¼š
 * - å®Œå…¨è¯­ä¹‰åŒ–ï¼Œä½¿ç”¨ä¸»é¢˜ç³»ç»Ÿçš„é¢œè‰²å˜é‡
 * - æµç•…çš„æ—‹è½¬åŠ¨ç”»ï¼ˆå…³é—­â†’Xå‹ï¼‰
 * - æ”¯æŒå¤šç§ä¸»é¢˜å˜ä½“
 * - é”®ç›˜å¯¼èˆªå‹å¥½
 * - å“åº”å¼è®¾è®¡
 */
const MobileNavIcon = forwardRef<HTMLButtonElement, MobileNavIconProps>(
  ({ className, isActive, style, onClick, variant = "primary", ...rest }, ref) => {
    // æ ¹æ®å˜ä½“é€‰æ‹©é¢œè‰²ä¸»é¢˜
    const variantStyles = {
      primary: {
        button: "bg-primary hover:bg-primary-container border-primary/20 focus:ring-primary/30",
        lines: "bg-on-primary group-hover:bg-on-primary-container"
      },
      secondary: {
        button: "bg-surface hover:bg-surface-container border-outline/20 focus:ring-outline/30",
        lines: "bg-on-surface group-hover:bg-on-surface-variant"
      },
      surface: {
        button: "bg-surface-container hover:bg-surface-container-high border-outline-variant/20 focus:ring-primary/30",
        lines: "bg-content group-hover:bg-content-secondary"
      }
    };

    const currentVariant = variantStyles[variant];

    return (
      <button
        ref={ref}
        className={cn(
          // åŸºç¡€å¸ƒå±€å’Œäº¤äº’
          "group relative flex h-10 w-10 min-h-10 min-w-10 items-center justify-center",
          "rounded-md border transition-all duration-300 ease-out",
          "cursor-pointer outline-none",
          
          // ç„¦ç‚¹å’Œæ‚¬åœçŠ¶æ€
          "focus:ring-2 focus:ring-offset-2 focus:ring-offset-background",
          "active:scale-95 transform-gpu",
          
          // ä¸»é¢˜å˜ä½“æ ·å¼
          currentVariant.button,
          
          // å¯è®¿é—®æ€§
          "aria-label",
          
          className
        )}
        style={style}
        onClick={onClick}
        aria-label={isActive ? "å…³é—­èœå•" : "æ‰“å¼€èœå•"}
        aria-expanded={isActive}
        type="button"
        {...rest}
      >
        {/* ç¬¬ä¸€æ¡çº¿ */}
        <div
          className={cn(
            // åŸºç¡€æ ·å¼
            "absolute h-0.5 w-6 transition-all duration-300 ease-out",
            currentVariant.lines,
            
            // é»˜è®¤ä½ç½®ï¼ˆä¸Šæ–¹ï¼‰
            !isActive && "-translate-y-1.5 translate-x-0 rotate-0",
            
            // æ¿€æ´»çŠ¶æ€ï¼ˆæ—‹è½¬45åº¦ï¼Œå±…ä¸­ï¼‰
            isActive && "translate-y-0 translate-x-0 rotate-45"
          )}
        />
        
        {/* ç¬¬äºŒæ¡çº¿ */}
        <div
          className={cn(
            // åŸºç¡€æ ·å¼
            "absolute h-0.5 w-6 transition-all duration-300 ease-out",
            currentVariant.lines,
            
            // é»˜è®¤ä½ç½®ï¼ˆä¸‹æ–¹ï¼‰
            !isActive && "translate-y-1.5 translate-x-0 rotate-0",
            
            // æ¿€æ´»çŠ¶æ€ï¼ˆæ—‹è½¬-45åº¦ï¼Œå±…ä¸­ï¼‰
            isActive && "translate-y-0 translate-x-0 -rotate-45"
          )}
        />
      </button>
    );
  }
);

MobileNavIcon.displayName = "MobileNavIcon";

/**
 * ğŸ“± ç§»åŠ¨ç«¯å¯¼èˆªæ å®¹å™¨ç»„ä»¶
 */
interface MobileNavigationBarProps {
  children?: React.ReactNode;
  className?: string;
  position

---

